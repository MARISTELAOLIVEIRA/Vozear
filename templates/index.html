<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vozear</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon/site.webmanifest') }}">

    <style>
        .header-controls {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .header-controls button {
            padding: 8px 15px;
            font-size: 14px;
            margin: 0;
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .logo-container img {
            max-width: 220px;
            height: auto;
            filter: drop-shadow(0 0 16px #fffbe6) drop-shadow(0 0 32px #ffe066);
            animation: brilhoLogo 2.5s infinite alternate;
            transition: max-width 0.3s;
        }

        @keyframes brilhoLogo {
            0% {
                filter: drop-shadow(0 0 8px #fffbe6) drop-shadow(0 0 16px #ffe066);
            }
            100% {
                filter: drop-shadow(0 0 32px #fffbe6) drop-shadow(0 0 64px #ffe066);
            }
        }
        
        @media (max-width: 768px) {
            .header-controls {
                justify-content: center;
                margin-bottom: 15px;
            }
            
            .header-controls button {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .logo-container {
                flex-direction: column;
                gap: 15px;
                margin-bottom: 15px;
            }
            
            .logo-container img {
                max-width: 140px;
            }
        }
        
        @media (max-width: 480px) {
            .header-controls button {
                padding: 5px 10px;
                font-size: 11px;
            }
            
            .logo-container img {
                max-width: 90px;
            }
        }
    </style>
</head>

<body>
<script>
    // Fun√ß√£o global para modo escuro
    function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        localStorage.setItem("dark-mode", isDark.toString());
        console.log("Dark mode toggled:", isDark);
    }

    document.addEventListener("DOMContentLoaded", function() {
        // Carregar modo escuro salvo ou ativar por padr√£o
        const savedDarkMode = localStorage.getItem("dark-mode");
        console.log("Saved dark mode:", savedDarkMode);
        if (savedDarkMode === null || savedDarkMode === "true") {
            document.body.classList.add("dark-mode");
            if (savedDarkMode === null) {
                localStorage.setItem("dark-mode", "true");
            }
            console.log("Dark mode ativado por padr√£o ou carregado do storage");
        }

        // Event listeners para navega√ß√£o
        const sobreBtn = document.getElementById('sobre-btn');
        if (sobreBtn) {
            sobreBtn.addEventListener('click', function() {
                window.location.href = '/sobre';
            });
        }

        const limparBtn = document.getElementById('limpar-btn');
        if (limparBtn) {
            limparBtn.addEventListener('click', function() {
                window.location.href = '/';
            });
        }
    });
</script>
<div class="header-controls">
    <button id="sobre-btn" style="font-size: 15px;" title="Sobre o Vozear">Sobre</button>
    <button class="dark-mode-toggle" onclick="toggleDarkMode()" title="Alternar Modo Escuro">üåô ‚òÄÔ∏è</button>
    <a href="{{ url_for('admin_login') }}" class="admin-access-btn" title="√Årea Administrativa">‚öôÔ∏è</a>
</div>

<div class="logo-container">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="Vozear Logo">
</div>

<h1>üéß Transforme Palavras em Experi√™ncias Sonoras ‚ú®</h1>
<p style="font-size: small;">Ao corverter e conferir, fa√ßa o download, o arquivo de a√∫dio s√≥ ficar√° dispon√≠vel por 10 minutos</p>

<form method="post" enctype="multipart/form-data" onsubmit="mostrarProgresso()">
    <textarea name="texto" placeholder="Digite ou cole o texto..." rows="5" cols="50"></textarea><br><br>

<label>Envie um arquivo PDF ( com ou sem imagens) ou uma imagem para gerar a audiodescri√ß√£o:</label>
<input type="file" name="arquivo" accept=".pdf,.jpg,.jpeg,.png,.bmp,.gif,.tiff"><br><br>
<label>Ou insira uma URL para gerar a audiodescri√ß√£o:</label>
<input type="url" name="url" placeholder="https://exemplo.com"><br><br>


    <div class="voz-velocidade-container">
        <div>
            <label for="voz">Escolha a voz:</label>
            <select name="voz" id="voz">
                <option value="pt-BR-FranciscaNeural">Francisca (feminina)</option>
                <option value="pt-BR-AntonioNeural">Ant√¥nio (masculina)</option>
            </select>
        </div>
        <div>
            <label for="velocidade">Velocidade:</label>
            <select name="velocidade" id="velocidade">
                <option value="+0%">Normal</option>
                <option value="-25%">Mais devagar</option>
                <option value="+25%">Mais r√°pido</option>
            </select>
        </div>
    </div>
    <br>

    <button type="submit">Converter</button>
    <button type="button" id="botao-falar">üé§ Falar</button>
    <button type="button" id="botao-parar" style="display:none;">üõë Parar</button>
    <button type="button" id="botao-salvar">üíæ Baixar Texto</button>
    <button type="button" id="limpar-btn">üîÑ Limpar</button>

    <div class="progress-bar" id="barra">
        <div class="progress-bar-fill"></div>
    </div>

</form>

<style>
    .voz-velocidade-container {
        display: flex;
        gap: 20px;
        align-items: flex-end;
        flex-wrap: wrap;
    }
    .voz-velocidade-container > div {
        display: flex;
        flex-direction: column;
    }
    @media (max-width: 600px) {
        .voz-velocidade-container {
            flex-direction: column;
            gap: 10px;
        }
    }
</style>

{% if audio_file %}
    <audio controls>
        <source src="{{ url_for('audio', filename=audio_file) }}" type="audio/mpeg">
        Seu navegador n√£o suporta √°udio.
    </audio>
    <p><a href="{{ url_for('audio', filename=audio_file) }}" download>‚úÖ √Åudio gerado com sucesso! ‚¨áÔ∏è BAIXAR MP3</a></p>
{% endif %}
<footer>
    &copy; <a href="https://stela.tec.br" target="_blank" rel="noopener noreferrer"> Maristela </a> üêç üå∂Ô∏è 2025
</footer>
<script>
    function mostrarProgresso() {
        document.getElementById("barra").style.display = "block";
    }
</script>
<script src="{{ url_for('static', filename='js/vozear_microfone.js') }}"></script>
<script src="{{ url_for('static', filename='js/salvar_como_txt.js') }}"></script>
<script src="{{ url_for('static', filename='js/gerar_documento.js') }}"></script>

</body>
</html>

